<wpfCoreWindow:MetroWindowExt
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:Convertidores="clr-namespace:WPFCore.Convertidores;assembly=WPFCore"
    xmlns:convertidoresLocal="clr-namespace:ComercialColindres.Convertidores"
    xmlns:Custom="http://metro.mahapps.com/winfx/xaml/controls"
    xmlns:HelpersMahApps="http://metro.mahapps.com/winfx/xaml/controls"
    xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
    xmlns:controlsMahApps="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
    xmlns:Comportamientos="clr-namespace:WPFCore.Comportamientos;assembly=WPFCore"
    xmlns:misControles="clr-namespace:MisControlesWPF;assembly=MisControlesWPF"
    xmlns:syncfusion="http://schemas.syncfusion.com/wpf"
    xmlns:wpfCoreWindow="clr-namespace:WPFCore.UtilidadesWindows;assembly=WPFCore"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="d"
    x:Class="ComercialColindres.Windows.GasolinerasWindow"
    Title="Gasolineras"
    Width="920"
    Height="600"
    MostrarDialogo="{Binding DialogSettings, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
    SaveWindowPosition="True"
    ShowFlyout="{Binding SlidePanelIndice, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
    WindowStartupLocation="CenterScreen">

    <wpfCoreWindow:MetroWindowExt.Resources>
        <Convertidores:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter" />
        <Convertidores:BoolToStringConverter x:Key="BoolToStringConverter" />
        <Convertidores:BinaryImageConverter x:Key="BinaryImageConverter" />
        <Convertidores:StateValueToColorConverter x:Key="StateValueToColorConverter" />
        <Convertidores:DateTimeToShortString x:Key="DateTimeToShortString" />
        <convertidoresLocal:EstadoColorConvert x:Key="EstadoColorConvert" />
    </wpfCoreWindow:MetroWindowExt.Resources>

    <wpfCoreWindow:MetroWindowExt.DataContext>
        <Binding Path="GasolinerasViewModel"  Source="{StaticResource Locator}"/>
    </wpfCoreWindow:MetroWindowExt.DataContext>

    <wpfCoreWindow:MetroWindowExt.Flyouts>
        <controlsMahApps:FlyoutsControl>
            <controlsMahApps:Flyout x:Name="AgregarOrdenCombustibleFlyout"
                Width="400"                
                Margin="100,0,0,0"
                Header="Ordenes de Diesel"
                IsModal="True"
                Position="Right"
                Theme="Adapt">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" />
                        <RowDefinition Height="70" />
                    </Grid.RowDefinitions>
                    <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto">
                        <StackPanel Orientation="Vertical">
                            <StackPanel  x:Name="VerticalFt" Margin="5" Grid.Row="0">
                                <Grid
            						Height="156"
            						Width="90"
            						HorizontalAlignment="Center"
            						Background="LightGray">
                                    <Image
                                        RenderOptions.BitmapScalingMode="Fant"
                                       Stretch="Fill"
                                       Height="156"
            						   Width="90"
                                       VerticalAlignment="Top"
                                       Margin="0,0,0,0"
                                       HorizontalAlignment="Center"
            							Source="{Binding DatoOrdenCombustible.Imagen, Converter={StaticResource BinaryImageConverter}, Mode=TwoWay}" />
                                </Grid>

                                <Button
            						Width="80"
            						Margin="5"
            						HorizontalAlignment="Center"
            						Command="{Binding CommandSelectImage}"
            						Content="Seleccionar" />
                            </StackPanel>
                            <misControles:HeaderTextBlock Text="Gasolinera" />
                            <misControles:InputTextBoxAutoCompleteControl
                                    AutoCompletionList="{Binding ListaGasolinerasAutoComplete}"       
                                    Buscar="{Binding ComandoBuscarGasolineras}"
                                    SelectedItem="{Binding GasolineraAutoCompleteSeleccionada, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            <misControles:HeaderTextBlock Text="Código Gasolinera Crédito" />
                            <misControles:BodyTextBlock Text="{Binding DatoOrdenCombustible.CodigoCreditoCombustible, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                            <CheckBox Margin="5" IsChecked="{Binding DatoOrdenCombustible.EsOrdenPersonal, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">Es Orden Personal?</CheckBox>
                            <StackPanel Visibility="{Binding DatoOrdenCombustible.EsOrdenPersonal, ConverterParameter=INVERTIR,  Converter={StaticResource BoolToVisibilityConverter}}">
                                <misControles:HeaderTextBlock Text="Proveedor"/>
                                <misControles:InputTextBoxAutoCompleteControl
                                    AutoCompletionList="{Binding ListaProveedoresAutoComplete}"       
                                    Buscar="{Binding CommandSearchVendor}"
                                    SelectedItem="{Binding ProveedorAutoCompleteSeleccionado, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                            </StackPanel>
                            <misControles:HeaderTextBlock Text="Código Factura" />
                            <misControles:InputTextBox Text="{Binding DatoOrdenCombustible.CodigoFactura, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" MaxLength="10"/>
                            <misControles:HeaderTextBlock Text="Autorizado Por" />
                            <misControles:InputTextBox Text="{Binding DatoOrdenCombustible.AutorizadoPor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" MaxLength="50"/>
                            <misControles:HeaderTextBlock Text="Placa Equipo" />
                            <misControles:InputTextBox Text="{Binding DatoOrdenCombustible.PlacaEquipo}" MaxLength="10" />
                            <misControles:HeaderTextBlock Text="Monto Orden" />
                            <misControles:InputTextBox    
                                Width="100"
                                HorizontalAlignment="Left"
                                FontSize="12"
                                FontWeight="Bold"
                                Comportamientos:TextBoxMaskBehavior.MaximumValue="18"
                                Text="{Binding DatoOrdenCombustible.Monto, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, StringFormat=N2}" />
                            <misControles:HeaderTextBlock Text="Fecha Orden Combustible" />
                            <DatePicker Margin="5" SelectedDate="{Binding DatoOrdenCombustible.FechaCreacion, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                            <misControles:HeaderTextBlock Text="Observaciones" />
                            <misControles:InputTextBox Height="80" Text="{Binding DatoOrdenCombustible.Observaciones, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                       MaxLength="80"/>
                        </StackPanel>
                    </ScrollViewer>
                    <misControles:AppBarPanel Grid.Row="1" Background="{DynamicResource AccentColorBrush}">
                        <misControles:AppBarButton
                            Command="{Binding ComandoAgregarOrdenCombustible}"
                            Imagen="{DynamicResource GuardarPathImagen}"
                            Titulo="Guardar" />
                    </misControles:AppBarPanel>
                    <Border Grid.RowSpan="2" Visibility="{Binding MostrarVentanaEspera}">
                        <Grid>
                            <misControles:BloqueoPanel/>
                            <controlsMahApps:ProgressRing IsActive="True" IsLarge="False"/>
                        </Grid>
                    </Border>
                </Grid>
            </controlsMahApps:Flyout>
            <controlsMahApps:Flyout x:Name="EditarOrdenCombustibleFlyout"
                Width="400"                
                Margin="100,0,0,0"
                Header="Editar Orden Combustible"
                IsModal="True"
                Position="Right"
                Theme="Adapt">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" />
                        <RowDefinition Height="70" />
                    </Grid.RowDefinitions>
                    <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto">
                        <StackPanel Orientation="Vertical">
                            <StackPanel  x:Name="VerticalFtEdit" Margin="5" Grid.Row="0">
                                <Grid
            						Height="156"
            						Width="90"
            						HorizontalAlignment="Center"
            						Background="LightGray">
                                    <Image
                                        RenderOptions.BitmapScalingMode="Fant"
                                       Stretch="Fill"
                                       Height="156"
            						   Width="90"
                                       VerticalAlignment="Top"
                                       Margin="0,0,0,0"
                                       HorizontalAlignment="Center"
            							Source="{Binding DatoOrdenCombustible.Imagen, Converter={StaticResource BinaryImageConverter}, Mode=TwoWay}" />
                                </Grid>

                                <Button
            						Width="80"
            						Margin="5"
            						HorizontalAlignment="Center"
            						Command="{Binding CommandSelectImage}"
            						Content="Seleccionar" />
                            </StackPanel>
                            <misControles:HeaderTextBlock Text="Gasolinera" />
                            <misControles:BodyTextBlock Text="{Binding OrdenCombustibleSeleccionado.NombreGasolinera}"/>
                            <misControles:HeaderTextBlock Text="Código Factura" />
                            <misControles:BodyTextBlock Text="{Binding DatoOrdenCombustible.CodigoFactura}"/>
                            <misControles:HeaderTextBlock Text="Autorizado Por" />
                            <misControles:BodyTextBlock Text="{Binding DatoOrdenCombustible.AutorizadoPor}"/>
                            <misControles:HeaderTextBlock Text="Placa Cabezal" />
                            <misControles:BodyTextBlock Text="{Binding DatoOrdenCombustible.PlacaEquipo}"/>
                            <misControles:HeaderTextBlock Text="Monto Orden Combustible" />
                            <misControles:InputTextBox    
                                Width="100"
                                HorizontalAlignment="Left"
                                FontSize="12"
                                FontWeight="Bold"
                                Comportamientos:TextBoxMaskBehavior.MaximumValue="18"
                                Text="{Binding DatoOrdenCombustible.Monto, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged,StringFormat=N2}" />
                            <misControles:HeaderTextBlock Text="Fecha Orden Combustible" />
                            <misControles:BodyTextBlock Text="{Binding OrdenCombustibleSeleccionado.FechaCreacion}"/>
                            <misControles:HeaderTextBlock Text="Observaciones" />
                            <misControles:InputTextBox Height="80" Text="{Binding DatoOrdenCombustible.Observaciones, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                       MaxLength="80"/>
                        </StackPanel>
                    </ScrollViewer>
                    <misControles:AppBarPanel Grid.Row="1" Background="{DynamicResource AccentColorBrush}">
                        <misControles:AppBarButton
                            Command="{Binding ComandoActualizarOrdenCombustible}"
                            Imagen="{DynamicResource GuardarPathImagen}"
                            Titulo="Guardar" />
                    </misControles:AppBarPanel>
                    <Border Grid.RowSpan="2" Visibility="{Binding MostrarVentanaEspera}">
                        <Grid>
                            <misControles:BloqueoPanel/>
                            <controlsMahApps:ProgressRing IsActive="True" IsLarge="False"/>
                        </Grid>
                    </Border>
                </Grid>
            </controlsMahApps:Flyout>
            <controlsMahApps:Flyout x:Name="AgregarGasCreditoFlyout"
                Width="400"                
                Margin="100,0,0,0"
                Header="Gasolinera Crédito"
                IsModal="True"
                Position="Right"
                Theme="Adapt">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" />
                        <RowDefinition Height="70" />
                    </Grid.RowDefinitions>
                    <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto">
                        <StackPanel Orientation="Vertical">
                            <misControles:HeaderTextBlock Text="Código Gasolinera Crédito" />
                            <misControles:BodyTextBlock Text="{Binding DatoGasCredito.CodigoGasCredito, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                            <misControles:HeaderTextBlock Text="Gasolinera" />
                            <misControles:InputTextBoxAutoCompleteControl
                                    AutoCompletionList="{Binding ListaGasolinerasAutoComplete}"       
                                    Buscar="{Binding ComandoBuscarGasolineras}"
                                    SelectedItem="{Binding GasolineraAutoCompleteSeleccionada, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            <misControles:HeaderTextBlock Text="Fecha Creación" />
                            <misControles:BodyTextBlock Text="{Binding DatoGasCredito.FechaInicio, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                            <misControles:HeaderTextBlock Text="Crédito" />
                            <misControles:InputTextBox    
                                Width="100"
                                HorizontalAlignment="Left"
                                FontSize="12"
                                FontWeight="Bold"
                                Comportamientos:TextBoxMaskBehavior.MaximumValue="18"
                                Text="{Binding DatoGasCredito.Credito, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, StringFormat=N2}" />
                        </StackPanel>
                    </ScrollViewer>
                    <misControles:AppBarPanel Grid.Row="1" Background="{DynamicResource AccentColorBrush}">
                        <misControles:AppBarButton
                            Command="{Binding ComandoGuardarGasolineraCreditos}"
                            Imagen="{DynamicResource GuardarPathImagen}"
                            Titulo="Guardar" />
                    </misControles:AppBarPanel>
                    <Border Grid.RowSpan="2" Visibility="{Binding MostrarVentanaEspera}">
                        <Grid>
                            <misControles:BloqueoPanel/>
                            <controlsMahApps:ProgressRing IsActive="True" IsLarge="False"/>
                        </Grid>
                    </Border>
                </Grid>
            </controlsMahApps:Flyout>
            <controlsMahApps:Flyout x:Name="EditarGasCreditoFlyout"
                Width="400"                
                Margin="100,0,0,0"
                Header="Editar Crédito"
                IsModal="True"
                Position="Right"
                Theme="Adapt">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" />
                        <RowDefinition Height="70" />
                    </Grid.RowDefinitions>
                    <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto">
                        <StackPanel Orientation="Vertical">
                            <misControles:HeaderTextBlock Text="Código Gasolinera Crédito" />
                            <misControles:BodyTextBlock Text="{Binding GasolineraCreditoSeleccionado.CodigoGasCredito, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                            <misControles:HeaderTextBlock Text="Gasolinera" />
                            <misControles:BodyTextBlock Text="{Binding GasolineraCreditoSeleccionado.NombreGasolinera, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                            <misControles:HeaderTextBlock Text="Fecha Creación" />
                            <misControles:BodyTextBlock Text="{Binding DatoGasCredito.FechaInicio, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                            <misControles:HeaderTextBlock Text="Crédito" />
                            <misControles:InputTextBox    
                                Width="100"
                                HorizontalAlignment="Left"
                                FontSize="12"
                                FontWeight="Bold"
                                Comportamientos:TextBoxMaskBehavior.MaximumValue="18"
                                Text="{Binding DatoGasCredito.Credito, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, StringFormat=N2}" />
                        </StackPanel>
                    </ScrollViewer>
                    <misControles:AppBarPanel Grid.Row="1" Background="{DynamicResource AccentColorBrush}">
                        <misControles:AppBarButton
                            Command="{Binding ComandoActualizarGasolineraCredito}"
                            Imagen="{DynamicResource GuardarPathImagen}"
                            Titulo="Guardar" />
                    </misControles:AppBarPanel>
                    <Border Grid.RowSpan="2" Visibility="{Binding MostrarVentanaEspera}">
                        <Grid>
                            <misControles:BloqueoPanel/>
                            <controlsMahApps:ProgressRing IsActive="True" IsLarge="False"/>
                        </Grid>
                    </Border>
                </Grid>
            </controlsMahApps:Flyout>
            <controlsMahApps:Flyout x:Name="GasCreditoPagosFlyout"
                Width="650"
                Margin="100,0,0,0"
                Header="Justificación Pago Crédito"
                IsModal="True"
                Position="Right"
                Theme="Adapt">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="70" />
                    </Grid.RowDefinitions>
                    <Grid Grid.Row="0">
                        <GroupBox Header="DATOS DE GASOLINERA CRÉDITO">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <Grid Grid.Row="0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width= "*" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="40"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" MinHeight="30" />
                                        <RowDefinition Height="Auto" MinHeight="30" />
                                    </Grid.RowDefinitions>
                                    <misControles:HeaderTextBlock Grid.Column="0" Text="Gasolinera Crédito" />
                                    <misControles:BodyTextBlock Grid.Row="1" Grid.Column="0" 
                                                                Text="{Binding GasolineraCreditoSeleccionado.CodigoGasCredito, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                    <misControles:HeaderTextBlock Grid.Column="1" Text="Gasolinera" />
                                    <misControles:BodyTextBlock Grid.Row="1" Grid.Column="1" 
                                                                Text="{Binding GasolineraCreditoSeleccionado.NombreGasolinera, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                    <misControles:HeaderTextBlock
                                        Grid.Row="0"
                                        Grid.Column="2"
                                        Text="Crédito Total" />
                                    <misControles:BodyTextBlock Grid.Row="1" Grid.Column="2" 
                                                                FontSize="12"
                                                                FontWeight="Bold"
                                                                Text="{Binding GasolineraCreditoSeleccionado.Credito,
                                                                Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, StringFormat=N2}" />
                                    <misControles:HeaderTextBlock
                                        Grid.Row="0"
                                        Grid.Column="3"
                                        Text="Monto Justificado" />
                                    <misControles:BodyTextBlock Grid.Row="1" Grid.Column="3" 
                                                                FontSize="12"
                                                                FontWeight="Bold"
                                                                Text="{Binding DatoGasCreditoPago.CantidadJustificada,
                                                                Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, StringFormat=N2}" />
                                </Grid>
                            </Grid>
                        </GroupBox>
                    </Grid>
                    <Grid Grid.Row="1">
                        <GroupBox Header="DETALLE DE PAGO GASOLINERA CRÉDITO">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="*" />
                                </Grid.RowDefinitions>
                                <Grid Grid.Row="0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width= "*" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="40"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" MinHeight="30" />
                                        <RowDefinition Height="Auto" MinHeight="30" />
                                        <RowDefinition Height="Auto" MinHeight="30" />
                                        <RowDefinition Height="Auto" MinHeight="30" />
                                    </Grid.RowDefinitions>
                                    <misControles:HeaderTextBlock Grid.Column="0" Text="Forma de Pago" 
                                                              FontWeight="SemiBold"
                                                              TextAlignment="Center"/>
                                    <ComboBox
                                        Margin="5"
                                        Grid.Row="1"
                                        Grid.Column="0"                                        
                                        ItemsSource="{Binding ListaFormaPagos}"
                                        DisplayMemberPath="Descripcion"
                                        SelectedItem="{Binding FormaDePagoSeleccionada, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                        SelectedValue="{Binding DatoGasCreditoPago.FormaDePago, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                        SelectedValuePath="Descripcion"/>
                                    <misControles:HeaderTextBlock Grid.Column="1" Text="Banco" 
                                                              FontWeight="SemiBold"
                                                              TextAlignment="Center"/>
                                    <ComboBox
                                        Margin="5"
                                        Grid.Row="1"
                                        Grid.Column="1"
                                        ItemsSource="{Binding ListadoBancos}"
                                        DisplayMemberPath="Descripcion"                                        
                                        SelectedItem="{Binding BancoSeleccionado, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                        SelectedValue="{Binding DatoGasCreditoPago.BancoId, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                        SelectedValuePath="BancoId"
                                        IsEnabled="{Binding FormaDePagoSeleccionada.RequiereBanco,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                    <misControles:HeaderTextBlock Grid.Column="2" Grid.ColumnSpan="2" Text="Linea Crédito" 
                                                              FontWeight="SemiBold"
                                                              TextAlignment="Center"/>
                                    <ComboBox Margin="5"
                                              Grid.Row="1"
                                              Grid.Column="2"
                                              Grid.ColumnSpan="2"
                                              HorizontalContentAlignment="Center" 
                                              ItemsSource="{Binding LineasCredito}"
                                              SelectedItem="{Binding LineaCreditoSeleccionada, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                              SelectedValue="{Binding DatoGasCreditoPago.LineaCreditoId, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                              SelectedValuePath="LineaCreditoId">
                                        <ComboBox.ItemTemplate>
                                            <DataTemplate>
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition Width="*"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Margin="5" Grid.Column="0" Text="{Binding CodigoLineaCredito}"/>
                                                    <TextBlock Margin="5" Grid.Column="1" Text="{Binding CuentaFinanciera}"/>
                                                </Grid>
                                            </DataTemplate>
                                        </ComboBox.ItemTemplate>
                                    </ComboBox>
                                    <misControles:HeaderTextBlock Grid.Column="0" Grid.Row="2" Grid.ColumnSpan="2" Text="Documento Ref" TextAlignment="Center"
                                                              FontWeight="SemiBold"/>
                                    <misControles:InputTextBox Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="2" 
                                                               Text="{Binding DatoGasCreditoPago.NoDocumento, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                               MaxLength="50"
                                                               IsEnabled="{Binding FormaDePagoSeleccionada.RequiereBanco,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                    <misControles:HeaderTextBlock Text="Monto"
                                                              Grid.Column="2" 
                                                              Grid.Row="2" 
                                                              Grid.ColumnSpan="2" 
                                                              TextAlignment="Center" 
                                                              FontWeight="SemiBold"/>
                                    <misControles:InputTextBox Grid.Row="3" Grid.Column="2" Grid.ColumnSpan="2"
                                                               FontSize="12"
                                                               FontWeight="Bold"
                                                               Text="{Binding DatoGasCreditoPago.Monto, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, StringFormat=N2}"
                                                               Comportamientos:TextBoxMaskBehavior.MaximumValue="18"/>
                                    <misControles:OnlyImageAutoSizeButton
                                        Grid.Row="2"
                                        Grid.Column="4"
                                        Width="21"
                                        Height="21"
                                        Margin="5"
                                        HorizontalAlignment="Left"
                                        Background="{DynamicResource AccentColorBrush}"
                                        Command="{Binding ComandoAgregarGasPagoCredito}"
                                        Imagen="{DynamicResource AgregarPathImagen}" />
                                </Grid>
                                <Grid Grid.Row="1">
                                    <DataGrid                                    
                                Margin="5"
                                AutoGenerateColumns="False"
                                CanUserAddRows="False"
                                CanUserDeleteRows="False"
                                IsReadOnly="True"                                        
                                ItemsSource="{Binding ListaGasCreditoPagosModel, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                SelectedItem="{Binding GasCreditoPagoSeleccionado, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                        <DataGrid.Columns>
                                            <DataGridTemplateColumn Width="55">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <StackPanel Orientation="Horizontal">
                                                            <misControles:OnlyImageAutoSizeButton
                                                        Width="21"
                                                        Height="21"
                                                        Margin="2"
                                                        Background="{DynamicResource AccentColorBrush}"
                                                        Command="{Binding GasolinerasViewModel.ComandoRemoverGasCreditoPago, Source={StaticResource Locator}}"
                                                        Imagen="{DynamicResource QuitarPathImagen}" />
                                                            <misControles:OnlyImageAutoSizeButton
                                                        Width="21"
                                                        Height="21"
                                                        Margin="2"
                                                        Background="{DynamicResource AccentColorBrush}"
                                                        Command="{Binding GasolinerasViewModel.ComandoEditarGasCreditoPago, Source={StaticResource Locator}}"
                                                        Imagen="{DynamicResource EditarPathImagen}" />
                                                        </StackPanel>
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>
                                            <DataGridTextColumn Binding="{Binding CodigoLineaCredito}" Header="Linea Crédito" />
                                            <DataGridTextColumn Binding="{Binding FormaDePago}" Header="Forma Pago" />
                                            <DataGridTextColumn Binding="{Binding Monto, StringFormat=N2}" Header="Monto" />
                                            <DataGridTextColumn Binding="{Binding NombreBanco}" Header="Banco" />
                                            <DataGridTextColumn Binding="{Binding NoDocumento}" Header="Documento Ref" />
                                        </DataGrid.Columns>
                                    </DataGrid>
                                </Grid>
                            </Grid>
                        </GroupBox>
                    </Grid>
                    <misControles:AppBarPanel Grid.Row="2" Background="{DynamicResource AccentColorBrush}">
                        <misControles:AppBarButton
                            Command="{Binding ComandoGuardarGasCreditoPagos}"
                            Imagen="{DynamicResource GuardarPathImagen}"
                            Titulo="Guardar" />
                    </misControles:AppBarPanel>
                    <Border Grid.RowSpan="3" Visibility="{Binding MostrarVentanaEspera}">
                        <Grid>
                            <misControles:BloqueoPanel/>
                            <controlsMahApps:ProgressRing IsActive="True" IsLarge="False"/>
                        </Grid>
                    </Border>
                </Grid>
            </controlsMahApps:Flyout>
            <controlsMahApps:Flyout x:Name="CloseFuelOrderManualFlyout"
                Width="620"
                Margin="100,0,0,0"
                Header="Cierre Manual de Ordenes"
                IsModal="True"
                Position="Right"
                Theme="Adapt">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="70" />
                    </Grid.RowDefinitions>
                    <Grid Grid.Row="0">
                        <GroupBox Header="Orden de Combustible">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <Grid Grid.Row="0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition />
                                        <ColumnDefinition />
                                        <ColumnDefinition />
                                        <ColumnDefinition />
                                        <ColumnDefinition Width="110" MinWidth="80"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" MinHeight="30" />
                                        <RowDefinition Height="Auto" MinHeight="30" />
                                    </Grid.RowDefinitions>
                                    <misControles:HeaderTextBlock Grid.Column="0" Text="#Factura" FontWeight="SemiBold" HorizontalAlignment="Center" />
                                    <misControles:BodyTextBlock Grid.Row="1" Grid.Column="0" 
                                                                Text="{Binding OrdenCombustibleSeleccionado.CodigoFactura, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" HorizontalAlignment="Center"/>
                                    <misControles:HeaderTextBlock Grid.Column="1" Text="Proveedor" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                                    <misControles:BodyTextBlock Grid.Row="1" Grid.Column="1" 
                                                                Text="{Binding OrdenCombustibleSeleccionado.NombreProveedor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" HorizontalAlignment="Center" />
                                    <misControles:HeaderTextBlock
                                        Grid.Row="0"
                                        Grid.Column="2"
                                        Text="Placa"
                                    FontWeight="SemiBold" HorizontalAlignment="Center"/>
                                    <misControles:BodyTextBlock Grid.Row="1" Grid.Column="2" 
                                                                FontSize="12"
                                                                FontWeight="Bold"
                                                                Text="{Binding OrdenCombustibleSeleccionado.PlacaEquipo,
                                                                Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" HorizontalAlignment="Center"/>
                                    <misControles:HeaderTextBlock
                                        Grid.Row="0"
                                        Grid.Column="3"
                                        Text="Monto"
                                    FontWeight="SemiBold" HorizontalAlignment="Center"/>
                                    <misControles:BodyTextBlock Grid.Row="1" Grid.Column="3" 
                                                                FontSize="12"
                                                                FontWeight="Bold"
                                                                Text="{Binding OrdenCombustibleSeleccionado.Monto,
                                                                Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, StringFormat=L {0:N2}}" HorizontalAlignment="Center"/>
                                    <misControles:HeaderTextBlock
                                        Grid.Row="0"
                                        Grid.Column="4"
                                        Text="Fecha"
                                    FontWeight="SemiBold" HorizontalAlignment="Center"/>
                                    <misControles:BodyTextBlock Grid.Row="1" Grid.Column="4" 
                                                                FontSize="12"
                                                                FontWeight="Bold"
                                                                Text="{Binding OrdenCombustibleSeleccionado.FechaCreacion,
                                                                Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, StringFormat='{}{0:dd MMM, yyyy}'}" HorizontalAlignment="Center"/>
                                </Grid>
                            </Grid>
                        </GroupBox>
                    </Grid>
                    <Grid Grid.Row="1">
                        <GroupBox Header="TRANSACCIONES BANCARiAS">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="*" />
                                </Grid.RowDefinitions>
                                <Grid Grid.Row="0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition />
                                        <ColumnDefinition />
                                        <ColumnDefinition />
                                        <ColumnDefinition Width="40"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" MinHeight="30" />
                                        <RowDefinition Height="Auto" MinHeight="30" />
                                        <RowDefinition Height="Auto" MinHeight="30" />
                                        <RowDefinition Height="Auto" MinHeight="30" />
                                        <RowDefinition Height="Auto" MinHeight="30" />
                                        <RowDefinition Height="Auto" MinHeight="30" />
                                    </Grid.RowDefinitions>
                                    <misControles:HeaderTextBlock Grid.Column="0" Text="Fecha de Pago"  Grid.Row="2"
                                                              FontWeight="SemiBold"
                                                              TextAlignment="Center"/>
                                    <DatePicker Margin="5" Grid.Column="0" Grid.Row="3" SelectedDate="{Binding FuelManualPaymentData.PaymentDate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                    <misControles:HeaderTextBlock Grid.Column="0" Grid.ColumnSpan="2" Text="Forma de Pago" 
                                                              FontWeight="SemiBold"
                                                              TextAlignment="Center"/>
                                    <ComboBox
                                        Margin="5"
                                        Grid.Row="1"
                                        Grid.Column="0"  
                                        Grid.ColumnSpan="2"
                                        ItemsSource="{Binding ListaFormaPagos}"
                                        DisplayMemberPath="Descripcion"
                                        SelectedItem="{Binding FormaDePagoSeleccionada, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                        SelectedValue="{Binding FuelManualPaymentData.WayToPay, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                        SelectedValuePath="Descripcion"/>
                                    <misControles:HeaderTextBlock Grid.Column="2" Text="Banco" 
                                                              FontWeight="SemiBold"
                                                              TextAlignment="Center"/>
                                    <ComboBox
                                        Margin="5"
                                        Grid.Row="1"
                                        Grid.Column="2"
                                        ItemsSource="{Binding ListadoBancos}"
                                        DisplayMemberPath="Descripcion"                                        
                                        SelectedItem="{Binding BancoSeleccionado, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                        SelectedValue="{Binding FuelManualPaymentData.BankId, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                        SelectedValuePath="BancoId"
                                        IsEnabled="{Binding FormaDePagoSeleccionada.RequiereBanco,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                    <misControles:HeaderTextBlock Grid.Column="1" Grid.Row="2" Text="Referencia Bancaria" TextAlignment="Center"
                                                              FontWeight="SemiBold"/>
                                    <misControles:InputTextBox Grid.Row="3" Grid.Column="1" 
                                                               Text="{Binding FuelManualPaymentData.BankReference, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                               MaxLength="50"
                                                               IsEnabled="{Binding FormaDePagoSeleccionada.RequiereBanco,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                    <misControles:HeaderTextBlock Text="Monto"
                                                              Grid.Column="2" 
                                                              Grid.Row="2" 
                                                              TextAlignment="Center" 
                                                              FontWeight="SemiBold"/>
                                    <misControles:InputTextBox Grid.Row="3" Grid.Column="2"
                                                               FontSize="12"
                                                               FontWeight="Bold"
                                                               Text="{Binding FuelManualPaymentData.Amount, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, StringFormat=N2}"
                                                               Comportamientos:TextBoxMaskBehavior.MaximumValue="18"/>
                                    <misControles:HeaderTextBlock Grid.Column="1" Grid.Row="4" Text="Observaciones" TextAlignment="Center"
                                                              FontWeight="SemiBold"/>
                                    <misControles:InputTextBox Grid.Row="5" Grid.Column="0" Grid.ColumnSpan="3" 
                                                               Text="{Binding FuelManualPaymentData.Observations, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                               MaxLength="100"/>
                                    <misControles:OnlyImageAutoSizeButton
                                        Grid.Row="2"
                                        Grid.Column="3"
                                        Width="21"
                                        Height="21"
                                        Margin="5"
                                        HorizontalAlignment="Left"
                                        Background="{DynamicResource AccentColorBrush}"
                                        Command="{Binding CommandAddManualPaymentItem}"
                                        Imagen="{DynamicResource AgregarPathImagen}" />
                                </Grid>
                                <Grid Grid.Row="1">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="75*"/>
                                        <ColumnDefinition Width="404*"/>
                                    </Grid.ColumnDefinitions>
                                    <DataGrid                                    
                                Margin="5"
                                AutoGenerateColumns="False"
                                CanUserAddRows="False"
                                CanUserDeleteRows="False"
                                IsReadOnly="True"                                        
                                ItemsSource="{Binding FuelManualPayments, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                SelectedItem="{Binding FuelManualPaymentSelected, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Grid.ColumnSpan="2">
                                        <DataGrid.Columns>
                                            <DataGridTemplateColumn Width="25">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <StackPanel Orientation="Horizontal">
                                                            <misControles:OnlyImageAutoSizeButton
                                                        Width="21"
                                                        Height="21"
                                                        Margin="2"
                                                        Background="{DynamicResource AccentColorBrush}"
                                                        Command="{Binding GasolinerasViewModel.CommandRemoveFuelManualPaymentItem, Source={StaticResource Locator}}"
                                                        Imagen="{DynamicResource QuitarPathImagen}" />
                                                        </StackPanel>
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>
                                            <DataGridTextColumn Binding="{Binding PaymentDate, StringFormat=d}" Header="Fecha" />
                                            <DataGridTextColumn Binding="{Binding WayToPay}" Header="Metodo" />
                                            <DataGridTextColumn Binding="{Binding Amount, StringFormat=N2}" Header="Monto" />
                                            <DataGridTextColumn Binding="{Binding BankName}" Header="Banco" />
                                            <DataGridTextColumn Binding="{Binding BankReference}" Header="Ref" />
                                            <DataGridTextColumn Binding="{Binding Observations}" Header="Observaciones" />
                                        </DataGrid.Columns>
                                    </DataGrid>
                                </Grid>
                            </Grid>
                        </GroupBox>
                    </Grid>
                    <Grid Grid.Row="2">
                        <StackPanel>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="80" MinWidth="30"/>
                                </Grid.ColumnDefinitions>
                                <misControles:HeaderTextBlock
                                        Grid.Column="0"
                                        Text="Total Abonos"
                                        FontSize="12"
                                    FontWeight="SemiBold" HorizontalAlignment="Right"/>
                                <misControles:BodyTextBlock Grid.Column="1" 
                                                                FontSize="12"
                                                                FontWeight="Bold"
                                                                Foreground="Green"
                                                                Text="{Binding FuelManualPaymentData.TotalPayments,
                                                                Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, StringFormat=L {0:N2}}" HorizontalAlignment="Right"/>
                            </Grid>
                        </StackPanel>
                    </Grid>
                    <misControles:AppBarPanel Grid.Row="3" Background="{DynamicResource AccentColorBrush}">
                        <misControles:AppBarButton
                            Command="{Binding CommandSaveFuelManualPayment}"
                            Imagen="{DynamicResource GuardarPathImagen}"
                            Titulo="Guardar"
                            Visibility="{Binding OrdenCombustibleSeleccionado.IsClosed, ConverterParameter=INVERTIR,  Converter={StaticResource BoolToVisibilityConverter}}"/>
                    </misControles:AppBarPanel>
                    <Border Grid.RowSpan="3" Visibility="{Binding MostrarVentanaEspera}">
                    <Grid>
                        <misControles:BloqueoPanel/>
                        <controlsMahApps:ProgressRing IsActive="True" IsLarge="False"/>
                    </Grid>
                </Border>
                </Grid>
            </controlsMahApps:Flyout>
        </controlsMahApps:FlyoutsControl>
    </wpfCoreWindow:MetroWindowExt.Flyouts>

    <Grid>
        <Grid x:Name="OrdenesCombustible"            
            Visibility="{Binding EsFacturacion, Converter={StaticResource BoolToVisibilityConverter}, ConverterParameter=INVERTIR}">
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition Height="70" />
            </Grid.RowDefinitions>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="275" />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <GroupBox Header="Busqueda Ordenes Combustible" Grid.Column="0">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="400*" />
                            <RowDefinition Height="33*" />
                        </Grid.RowDefinitions>
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <misControles:TitleTextBlock Text="Buscar" />
                            <misControles:SearchTextBox
                            Grid.Row="1"
                            Buscar="{Binding ComandoBuscarOrdenCombustible}"
                            SpellCheck.IsEnabled="True"
                            Text="{Binding ValorBusquedaOrdenesCombustible, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                        </Grid>
                        <ListBox
                        Grid.Row="1"
                        Margin="5"
                        IsSynchronizedWithCurrentItem="True"
                        ItemsSource="{Binding BusquedaOrdenesCombustibleControl.Items}"
                        SelectedItem="{Binding OrdenCombustibleSeleccionado, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal">
                                        <Viewbox Margin="2">
                                            <Grid Width="25">
                                                <Path
                                                Fill="{Binding Estado, Converter={StaticResource StateValueToColorConverter}}"
                                                Data="M20.799988,15.3C20.599976,15.8 20.399994,16.299999 20.199982,16.799999 19.599976,18.299999 18.5,21.399998 19.299988,23.099995 19.599976,23.700001 20.299988,24.299999 20.899994,24.399998 23,24.599995 23.799988,23.399998 23.899994,21.799999 24,18.999996 22.5,16.799999 20.799988,15.3z M31.099976,8.6999989C31.099976,8.6999989 30.899994,13.3 30.5,14.3 30,15.3 29,15.8 28.099976,15.499997 27.199982,15.099996 26.899994,13.999997 27.399994,12.899999 27.799988,11.9 31.099976,8.6999989 31.099976,8.6999989z M4.6999817,2.7000004L4.6999817,12.099997 14.199982,12.099997 14.199982,11.300001 14.199982,10.099997 14.199982,2.7000004z M26.599976,1.3000025C26.599976,1.3000028 26.399994,5.9000002 26,6.9000002 25.5,7.9000002 24.5,8.3999997 23.599976,8.1000005 22.699982,7.6999994 22.399994,6.6000009 22.899994,5.4999991 23.399994,4.4999991 26.599976,1.3000028 26.599976,1.3000025z M32,0.20000077C32,0.20000065 31.799988,4.8000022 31.399994,5.8000017 30.899994,6.8000017 29.899994,7.3000017 29,6.9999986 28.099976,6.6000009 27.799988,5.4999991 28.299988,4.4000007 28.699982,3.4000009 32,0.20000065 32,0.20000077z M2.5,0L16.199982,0C16.599976,-7.9640586E-08,17,0.40000137,17,0.90000155L17,11.800001C18.099976,12.4 19.299988,13.099996 20.399994,13.8 20.699982,12.300001 20.799988,10.800001 20.599976,9.1000005L18.399994,7.8000017 18.699982,7.3000017 17.299988,6.6999994 17.599976,6.1999994 19,6.8000017 19.299988,6.4000002 21.5,8.3000012C21.5,8.3000012 21.5,8.3999997 21.599976,8.3999997 21.899994,10.700003 21.799988,12.4 21.199982,14.3 22.299988,15.200002 23.5,16.299999 24.099976,17.799999 25.099976,20.099995 25.799988,23.700001 23.199982,24.999996 21.299988,25.999994 18.299988,25.399998 18.099976,22.299999 18,20.099995 18.699982,18.299999 19.5,16.299999 19.699982,15.8 19.899994,15.3 20,14.8 19,14.099996 18,13.499997 16.899994,12.899999L16.899994,25.700001 18.399994,25.700001 18.399994,28.699999 0,28.699999 0,25.700001 1.5999756,25.700001 1.5999756,0.90000155C1.5999756,0.40000137,2,-7.9640586E-08,2.5,0z"
                                                RenderTransformOrigin="0.5,0.5"
                                                Stretch="Uniform" />
                                            </Grid>
                                        </Viewbox>
                                        <StackPanel
                                        Width="185"
                                        Margin="5"
                                        Orientation="Vertical">
                                            <TextBlock
                                            Margin="1"
                                            HorizontalAlignment="Stretch"
                                            FontSize="12"
                                            FontWeight="Bold"
                                            Text="{Binding CodigoFactura}"
                                            TextWrapping="Wrap" />
                                            <TextBlock
                                            Margin="1"
                                            HorizontalAlignment="Stretch"
                                            FontSize="10"
                                            Text="{Binding NombreGasolinera}"
                                            TextWrapping="Wrap" />
                                            <TextBlock
                                            Margin="1"
                                            HorizontalAlignment="Stretch"
                                            Foreground="{Binding Estado, Converter={StaticResource StateValueToColorConverter}}"
                                            FontSize="12"
                                            FontWeight="Bold"
                                            Text="{Binding Estado}"
                                            TextWrapping="Wrap" />
                                            <Rectangle Height="6" Style="{StaticResource EstiloRectanguloEnListas}" />
                                        </StackPanel>
                                    </StackPanel>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                        <misControles:PaginarControl
                        Grid.Row="2"
                        Width="170"
                        Background="{DynamicResource AccentColorBrush}"
                        ComandoAnterior="{Binding ComandoNavegarOrdenesCombustible}"
                        ComandoSiguiente="{Binding ComandoNavegarOrdenesCombustible}"
                        NumeroPagina="{Binding NumeroPaginaOrdenesCombustible, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                        TotalPaginas="{Binding BusquedaOrdenesCombustibleControl.TotalPagina}" />
                    </Grid>
                </GroupBox>
                <Grid Grid.Column="1">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <GroupBox Header="Datos Generales de la Orden de Combustible">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" MinWidth="130" />
                                <ColumnDefinition Width="Auto" MinWidth="170" />
                                <ColumnDefinition Width="15"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" MinHeight="30" />
                                <RowDefinition Height="Auto" MinHeight="30" />
                                <RowDefinition Height="Auto" MinHeight="30" />
                                <RowDefinition Height="Auto" MinHeight="30"/>
                                <RowDefinition Height="Auto" MinHeight="30" />
                                <RowDefinition Height="Auto" MinHeight="30" />
                                <RowDefinition Height="Auto" MinHeight="30" />
                                <RowDefinition Height="Auto" MinHeight="30" />
                                <RowDefinition Height="Auto" MinHeight="30" />
                                <RowDefinition Height="Auto" MinHeight="30"/>
                                <RowDefinition Height="Auto" MinHeight="30"/>
                                <RowDefinition Height="Auto" MinHeight="30"/>
                                <RowDefinition Height="Auto" MinHeight="30"/>
                                <RowDefinition Height="Auto" MinHeight="30"/>
                                <RowDefinition Height="Auto" MinHeight="30"/>
                            </Grid.RowDefinitions>
                            <Grid Margin="5"
                               Grid.Column="3"
                               Grid.Row="0"
                               Grid.RowSpan="12">
                                <controlsMahApps:Tile x:Name="VerticalFormat" Height="360" Width="190" HorizontalAlignment="Left" 
                                                  Visibility="{Binding BoletaSeleccionada.IsHorizontalImg, ConverterParameter=INVERTIR,  Converter={StaticResource BoolToVisibilityConverter}}">
                                    <controlsMahApps:Tile.Background>
                                        <ImageBrush ImageSource="{Binding OrdenCombustibleSeleccionado.Imagen, Converter={StaticResource BinaryImageConverter}, 
                                            Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                            Stretch="UniformToFill" 
                                            RenderOptions.BitmapScalingMode="HighQuality"/>
                                    </controlsMahApps:Tile.Background>
                                    <i:Interaction.Triggers>
                                        <i:EventTrigger EventName="Click">
                                            <i:InvokeCommandAction Command="{Binding CommandSaveAndOpenImage}" />
                                        </i:EventTrigger>
                                    </i:Interaction.Triggers>
                                </controlsMahApps:Tile>
                            </Grid>
                            <misControles:HeaderTextBlock
                            Margin="5"
                            Text="Codigo Factura"
                            TextWrapping="Wrap" />
                            <misControles:BodyTextBlock
                            Grid.Column="1"
                            Margin="5"
                            Foreground="Black"
                            FontWeight="SemiBold"
                            Text="{Binding OrdenCombustibleSeleccionado.CodigoFactura, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            <misControles:HeaderTextBlock
                            Margin="5"                            
                            Grid.Row="1"
                            Text="Boleta Asignada"
                            TextWrapping="Wrap" />
                            <misControles:BodyTextBlock
                            Grid.Column="1"
                            Grid.Row="1"
                            Margin="5"
                            Foreground="Black"
                            FontWeight="SemiBold"
                            Text="{Binding OrdenCombustibleSeleccionado.CodigoBoleta, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            <misControles:HeaderTextBlock
                            Grid.Row="2"
                            Margin="5"
                            Text="Placa Cabezal"
                            TextWrapping="Wrap" />
                            <misControles:BodyTextBlock
                            Grid.Row="2"
                            Grid.Column="1"
                            Margin="5"
                            Foreground="Black"
                            FontWeight="SemiBold"
                            Text="{Binding OrdenCombustibleSeleccionado.PlacaEquipo, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            <misControles:HeaderTextBlock
                            Grid.Row="3"
                            Margin="5"
                            Text="Monto Orden"
                            TextWrapping="Wrap" />
                            <misControles:BodyTextBlock
                            Grid.Row="3"
                            Grid.Column="1"
                            Margin="5"
                            Text="{Binding OrdenCombustibleSeleccionado.Monto, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged,StringFormat=L {0:N2}}" />
                            <misControles:HeaderTextBlock
                            Grid.Row="4"
                            Margin="5"
                            Text="Proveedor"
                            TextWrapping="Wrap" />
                            <misControles:BodyTextBlock
                            Grid.Row="4"
                            Grid.Column="1"
                            Margin="5"
                            Foreground="Black"
                            FontWeight="SemiBold"
                            Text="{Binding OrdenCombustibleSeleccionado.NombreProveedor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            <misControles:HeaderTextBlock
                            Grid.Row="5"
                            Margin="5"
                            Text="Gasolinera"
                            TextWrapping="Wrap" />
                            <misControles:BodyTextBlock
                            Grid.Row="5"
                            Grid.Column="1"
                            Margin="5"
                            Foreground="Black"
                            FontWeight="SemiBold"
                            Text="{Binding OrdenCombustibleSeleccionado.NombreGasolinera, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            <misControles:HeaderTextBlock
                            Grid.Row="6"
                            Margin="5"
                            Text="Codigo de Credito"
                            TextWrapping="Wrap" />
                            <misControles:BodyTextBlock
                            Grid.Row="6"
                            Grid.Column="1"
                            Margin="5"
                            Foreground="Black"
                            FontWeight="SemiBold"
                            Text="{Binding OrdenCombustibleSeleccionado.CodigoCreditoCombustible, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            <misControles:HeaderTextBlock
                            Grid.Row="7"
                            Margin="5"
                            Text="Fecha Orden"
                            TextWrapping="Wrap" />
                            <misControles:BodyTextBlock
                            Grid.Row="7"
                            Grid.Column="1"
                            Text="{Binding OrdenCombustibleSeleccionado.FechaCreacion, StringFormat=D, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            <misControles:HeaderTextBlock
                            Grid.Row="8"
                            Margin="5"
                            Text="Autorizado Por"
                            TextWrapping="Wrap" />
                            <misControles:BodyTextBlock
                            Grid.Row="8"
                            Grid.Column="1"
                            Foreground="Black"
                            FontWeight="SemiBold"
                            Text="{Binding OrdenCombustibleSeleccionado.AutorizadoPor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            <misControles:HeaderTextBlock
                            Grid.Row="9"
                            Margin="5"
                            Text="Es Orden Personal"
                            TextWrapping="Wrap" />
                            <misControles:BodyTextBlock
                            Grid.Row="9"
                            Grid.Column="1"
                            Text="{Binding OrdenCombustibleSeleccionado.EsOrdenPersonal, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, StringFormat=N2}" />
                            <misControles:HeaderTextBlock
                            Grid.Row="10"
                            Margin="5"
                            Text="Estado Orden"
                            TextWrapping="Wrap" />
                            <misControles:BodyTextBlock
                            Grid.Row="10"
                            Grid.Column="1"
                            Text="{Binding OrdenCombustibleSeleccionado.Estado, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            <misControles:HeaderTextBlock
                            Grid.Row="11"
                            Margin="5"
                            Text="Estado Boleta"
                            TextWrapping="Wrap" />
                            <misControles:BodyTextBlock
                            Grid.Row="11"
                            Grid.Column="1"
                            Text="{Binding OrdenCombustibleSeleccionado.EstadoBoleta, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            <misControles:HeaderTextBlock
                            Grid.Row="12"
                            Margin="5"
                            Text="Total Abono"
                            TextWrapping="Wrap" />
                            <misControles:BodyTextBlock
                            Grid.Row="12"
                            Grid.Column="1"
                            Foreground="Green"
                            FontWeight="SemiBold"
                            Text="{Binding OrdenCombustibleSeleccionado.Payments, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged ,StringFormat=L {0:N2}}" />
                            <misControles:HeaderTextBlock
                            Grid.Row="13"
                            Margin="5"
                            Text="Saldo Pendiente"
                            TextWrapping="Wrap" />
                            <misControles:BodyTextBlock
                            Grid.Row="13"
                            Grid.Column="1"
                            Foreground="Red"
                            FontWeight="SemiBold"
                            Text="{Binding OrdenCombustibleSeleccionado.OutStandingBalance, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged ,StringFormat=L {0:N2}}" />
                            <misControles:HeaderTextBlock
                            Grid.Row="14"
                            Margin="5"
                            Text="Observaciones"
                            TextWrapping="Wrap" />
                            <misControles:BodyTextBlock
                            Grid.Row="14"
                            Grid.Column="1"
                            Foreground="Black"
                            FontWeight="SemiBold"
                            Text="{Binding OrdenCombustibleSeleccionado.Observaciones, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                        </Grid>
                    </GroupBox>
                </Grid>
            </Grid>
            <misControles:AppBarPanel Grid.Row="1" Background="{DynamicResource AccentColorBrush}">
                <misControles:AppBarButton
                Command="{Binding ComandoMostrarAgregarOrdenCombustible}"
                Imagen="{DynamicResource AgregarPathImagen}"
                Titulo="Agregar"/>
                <misControles:AppBarButton
                Command="{Binding ComandoMostrarEditarOrdenCombustible}"
                Imagen="{DynamicResource EditarPathImagen}"
                Titulo="Editar"/>
                <misControles:AppBarButton
                Command="{Binding ComandoEliminarOrdenCombustible}"
                Imagen="{DynamicResource EliminarPathImagen}"
                Titulo="Eliminar"/>
                <misControles:Separador />
                <misControles:AppBarButton
                Command="{Binding CommandShowCloseFuelOrderManual}"
                Imagen="{DynamicResource CerrarPathImagen}"
                Titulo="Cierre Manual"/>
                <misControles:Separador />
                <misControles:AppBarButton
                Command="{Binding ComandoMostrarFacturaciones}"
                Imagen="{DynamicResource FacturarPathImagen}"
                Titulo="Facturaciones" />
                <misControles:Separador />
                <misControles:AppBarButton
                Command="{Binding ComandoRefrescarOrdenesCombustible}"
                Imagen="{DynamicResource RefrescarPathImagen}"
                Titulo="Actualizar" />
            </misControles:AppBarPanel>
            <Border Grid.RowSpan="2" Visibility="{Binding MostrarVentanaEsperaPrincipal}" d:IsHidden="True">
                <Grid>
                    <misControles:BloqueoPanel/>
                    <controlsMahApps:ProgressRing IsActive="True" IsLarge="False"/>
                </Grid>
            </Border>
        </Grid>
        <Grid x:Name="Facturaciones"              
            Visibility="{Binding EsFacturacion, Converter={StaticResource BoolToVisibilityConverter}}">
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition Height="70" />
            </Grid.RowDefinitions>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="275"/>
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <GroupBox Header="Busqueda Gasolinera Créditos" Grid.Column="0">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="400*" />
                            <RowDefinition Height="33*" />
                        </Grid.RowDefinitions>
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <misControles:TitleTextBlock Text="Buscar" />
                            <misControles:SearchTextBox
                            Grid.Row="1"
                            Buscar="{Binding ComandoBuscarGasolineraCreditos}"
                            SpellCheck.IsEnabled="True"
                            Text="{Binding ValorBusquedaGasolineraCredito, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                        </Grid>
                        <ListBox
                        Grid.Row="1"
                        Margin="5"
                        IsSynchronizedWithCurrentItem="True"
                        ItemsSource="{Binding BusquedaGasolineraCreditosControl.Items}"
                        SelectedItem="{Binding GasolineraCreditoSeleccionado, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal">
                                        <Viewbox Margin="2">
                                            <Grid Width="25">
                                                <Path
                                                Fill="{Binding Estado, Converter={StaticResource StateValueToColorConverter}}"
                                                Data="M3.2330017,21.148024L11.417,21.148024 11.43,21.190016C11.456001,21.271986,11.483002,21.354017,11.512001,21.435011L11.569,21.586989 11.569,22.85298 3.2330017,22.85298z M3.2330017,17.940991L11.569,17.940991 11.569,18.011974 11.504997,18.117016C11.251999,18.563,11.117996,19.057018,11.112999,19.562023L11.113998,19.646008 3.2330017,19.646008z M24.634995,16.416025C24.358002,16.422007,24.113998,16.643992,24.113998,16.943003L24.113998,21.487013C24.113998,21.857008 24.466003,22.13899 24.811005,22.005018 25.298004,21.818007 25.727005,21.557997 26.106995,21.224989 26.791,20.622021 27.123001,19.901989 27.123001,19.021008 27.123001,18.292004 26.906006,17.732004 26.455994,17.305979 26.220993,17.083017 25.753998,16.781015 24.830002,16.448008 24.764999,16.424997 24.699005,16.414988 24.634995,16.416025z M2.5410004,6.5880166L11.966995,6.5880166C11.847,7.1350141,11.636002,7.7229658,11.616997,8.2749682L2.5419998,8.2749682C2.0830002,8.2769824,1.6920013,8.6679736,1.6899948,9.1289731L1.6899948,10.276983 11.669998,10.276983C11.705002,10.398993,11.741997,10.521978,11.780998,10.645026L11.835999,10.80799 11.877998,10.972968C12.068001,11.653998 12.356995,12.333992 12.738998,12.989021 13.195,13.770027 13.990997,14.599984 14.904999,15.286996L15.099998,15.429026 1.6899948,15.429026 1.6899948,23.266005C1.6920013,23.724989,2.0830002,24.11598,2.5429993,24.120009L13.100998,24.120009 13.278,24.315018C13.696999,24.763016,14.153,25.166031,14.640999,25.516983L14.68,25.544022 15.095001,25.807022 2.5419998,25.807022C1.1429977,25.802017,0.0039978027,24.662979,0,23.266981L0.0019989014,9.1289731C0.0039978027,7.7310224,1.1429977,6.5910073,2.5410004,6.5880166z M20.168747,6.3744612C20.122061,6.3764268 20.074247,6.3860055 20.027,6.4039956 19.566002,6.5769692 19.170998,6.80402 18.848,7.0839887 18.265999,7.5899702 17.981995,8.159978 17.981995,8.8280078 17.981995,9.4970151 18.219002,10.039984 18.699997,10.489019 19.010002,10.776008 19.463997,11.036017 20.056999,11.265998 20.381996,11.391975 20.696999,11.104987 20.696999,10.755988L20.696999,6.9320107C20.696999,6.6369668 20.478996,6.3889809 20.214996,6.3750039 20.199747,6.3739968 20.184311,6.3738061 20.168747,6.3744612z M22.156998,0L22.653992,0C23.459991,-6.4370397E-08,24.113998,0.653992,24.113998,1.4599618L24.113998,1.8029794C24.113998,2.2399915 24.477005,2.5709854 24.908005,2.6459976 26.291992,2.8809832 27.457001,3.2999898 28.378998,3.895022 29.796997,4.8049956 30.733994,6.0319858 31.167999,7.5460249 31.388,8.3150073 30.807999,9.0549985 30.013,9.1469784L28.035004,9.3770199C27.235001,9.4699765 26.533997,8.9060107 26.250992,8.1510058 26.067993,7.6629682 25.807999,7.2749677 25.464996,6.9790078 25.268005,6.8090249 25.039993,6.659977 24.778992,6.5330239 24.459991,6.377018 24.113998,6.6499673 24.113998,7.0050088L24.113998,11.432014C24.113998,11.860969 24.427994,12.224007 24.847,12.310982 25.835999,12.51899 26.526001,12.687996 26.938995,12.825996 28.048004,13.203011 28.970993,13.672981 29.684998,14.224008 30.419998,14.792001 30.996002,15.47999 31.395004,16.266977 31.796005,17.062021 32,17.930004 32,18.849987 32,20.849987 31.168991,22.537001 29.533005,23.864027 28.279999,24.88002 26.729996,25.529007 24.910004,25.80098 24.481003,25.865006 24.113998,26.190994 24.113998,26.623978L24.113998,27.072037C24.113998,27.878985,23.459991,28.532,22.653992,28.532L22.156998,28.532C21.349991,28.532,20.696999,27.878985,20.696999,27.072037L20.696999,26.62001C20.696999,26.310013,20.514999,26.050003,20.255997,25.901993L18.696999,25.684036C17.945999,25.469009,17.596001,25.386002,16.709,24.930008L15.577995,24.214003C15.043999,23.831007 14.554001,23.370985 14.112999,22.833998 13.422997,21.995009 12.964996,20.998974 12.743996,19.865002 12.584,19.04298 13.18,18.27998 14.011002,18.159985L15.842995,17.893993C16.649002,17.776987 17.372002,18.344006 17.589996,19.128002 17.824997,19.969982 18.154999,20.60603 18.580002,21.024977 19.004997,21.440016 19.466995,21.755995 19.975998,21.977003 20.319,22.125013 20.696999,21.862013 20.696999,21.487013L20.696999,16.247995C20.696999,15.953989 20.552002,15.688974 20.326996,15.52302 20.326996,15.52302 18.589996,15.461985 17.298996,14.870004 16.008995,14.279 14.670998,13.114998 14.125,12.179999 13.457001,11.03498 13.106995,9.7570248 13.243996,8.5849658 13.353996,7.6419721 13.379997,7.4279829 13.682999,6.6820107 13.987,5.9359775 14.920998,4.7399932 16.032997,3.9899927 17.008995,3.3269673 18.302002,2.8770159 19.962997,2.6270157 20.375999,2.5650039 20.696999,2.219972 20.696999,1.8029794L20.696999,1.4599618C20.696999,0.653992,21.349991,-6.4370397E-08,22.156998,0z"
                                                RenderTransformOrigin="0.5,0.5"
                                                Stretch="Uniform" />
                                            </Grid>
                                        </Viewbox>
                                        <StackPanel
                                        Width="185"
                                        Margin="5"
                                        Orientation="Vertical">
                                            <TextBlock
                                            Margin="1"
                                            HorizontalAlignment="Stretch"
                                            FontSize="12"
                                            FontWeight="Bold"
                                            Text="{Binding CodigoGasCredito}"
                                            TextWrapping="Wrap" />
                                            <TextBlock
                                            Margin="1"
                                            HorizontalAlignment="Stretch"
                                            FontSize="10"
                                            Text="{Binding NombreGasolinera}"
                                            TextWrapping="Wrap" />
                                            <TextBlock
                                            Margin="1"
                                            HorizontalAlignment="Stretch"
                                            Foreground="{Binding Estado, Converter={StaticResource StateValueToColorConverter}}"
                                            FontSize="12"
                                            FontWeight="Bold"
                                            Text="{Binding Estado}"
                                            TextWrapping="Wrap" />
                                            <Rectangle Height="6" Style="{StaticResource EstiloRectanguloEnListas}" />
                                        </StackPanel>
                                    </StackPanel>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                        <misControles:PaginarControl
                        Grid.Row="2"
                        Width="170"
                        Background="{DynamicResource AccentColorBrush}"
                        ComandoAnterior="{Binding ComandoNavegarGasolineraCreditos}"
                        ComandoSiguiente="{Binding ComandoNavegarGasolineraCreditos}"
                        NumeroPagina="{Binding NumeroPaginaGasolineraCreditos, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                        TotalPaginas="{Binding BusquedaGasolineraCreditosControl.TotalPagina}" />
                    </Grid>
                </GroupBox>
                <Grid Grid.Column="1">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition />
                    </Grid.RowDefinitions>
                    <GroupBox Header="Datos Generales del Pago">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <misControles:HeaderTextBlock
                            Margin="5"
                            Text="Codigo Gasolinera Crédito"
                            TextWrapping="Wrap" />
                            <misControles:BodyTextBlock
                            Grid.Column="1"
                            Grid.Row="0"
                            Margin="5"
                            Text="{Binding GasolineraCreditoSeleccionado.CodigoGasCredito, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            <misControles:HeaderTextBlock
                            Grid.Column="2"
                            Margin="5"
                            Text="Nombre Gasolinera"
                            TextWrapping="Wrap" />
                            <misControles:BodyTextBlock
                            Grid.Column="3"
                            Grid.Row="0"
                            Margin="5"
                            Text="{Binding GasolineraCreditoSeleccionado.NombreGasolinera, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            <misControles:HeaderTextBlock
                            Grid.Column="0"
                            Grid.Row="1"
                            Margin="5"
                            Text="Creado Por"
                            TextWrapping="Wrap" />
                            <misControles:BodyTextBlock
                            Grid.Column="1"
                            Grid.Row="1"
                            Margin="5"
                            Text="{Binding GasolineraCreditoSeleccionado.CreadoPor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            <misControles:HeaderTextBlock
                            Grid.Column="2"
                            Grid.Row="1"
                            Margin="5"
                            Text="Es Crédito Actual"
                            TextWrapping="Wrap" />
                            <misControles:BodyTextBlock
                            Grid.Column="3"
                            Grid.Row="1"
                            Margin="5"
                            Text="{Binding GasolineraCreditoSeleccionado.EsCreditoActual, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            <misControles:HeaderTextBlock
                            Grid.Column="0"
                            Grid.Row="2"
                            Margin="5"
                            Text="Crédito Inicial"
                            TextWrapping="Wrap" />
                            <misControles:BodyTextBlock
                            Grid.Column="1"
                            Grid.Row="2"
                            Margin="5"
                            Text="{Binding GasolineraCreditoSeleccionado.Credito, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, StringFormat=N2}" />
                            <misControles:HeaderTextBlock
                            Grid.Column="2"
                            Grid.Row="2"
                            Margin="5"
                            Text="Saldo Anterior"
                            TextWrapping="Wrap" />
                            <misControles:BodyTextBlock
                            Grid.Column="3"
                            Grid.Row="2"
                            Margin="5"
                            Text="{Binding GasolineraCreditoSeleccionado.SaldoAnterior, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, StringFormat=N2}" />
                            <misControles:HeaderTextBlock
                            Grid.Column="0"
                            Grid.Row="3"
                            Margin="5"
                            Text="Total Débito"
                            TextWrapping="Wrap" />
                            <misControles:BodyTextBlock
                            Grid.Column="1"
                            Grid.Row="3"
                            Margin="5"
                            Text="{Binding GasolineraCreditoSeleccionado.Debito, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, StringFormat=N2}" />
                            <misControles:HeaderTextBlock
                            Grid.Column="2"
                            Grid.Row="3"
                            Margin="5"
                            Text="Saldo Actual"
                            TextWrapping="Wrap" />
                            <misControles:BodyTextBlock
                            Grid.Column="3"
                            Grid.Row="3"
                            Margin="5"
                            Text="{Binding GasolineraCreditoSeleccionado.SaldoActual, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, StringFormat=N2}" />
                            <misControles:HeaderTextBlock
                            Grid.Column="0"
                            Grid.Row="4"
                            Margin="5"
                            Text="Fecha Inicial"
                            TextWrapping="Wrap" />
                            <misControles:BodyTextBlock
                            Grid.Column="1"
                            Grid.Row="4"
                            Margin="5"
                            Text="{Binding GasolineraCreditoSeleccionado.FechaInicio, StringFormat=D, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            <misControles:HeaderTextBlock
                            Grid.Column="2"
                            Grid.Row="4"
                            Margin="5"
                            Text="Fecha Final"
                            TextWrapping="Wrap" />
                            <misControles:BodyTextBlock
                            Grid.Column="3"
                            Grid.Row="4"
                            Margin="5"
                            Text="{Binding GasolineraCreditoSeleccionado.FechaFinal, StringFormat=D, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                        </Grid>
                    </GroupBox>
                    <TabControl Grid.Row="1">
                        <TabItem controlsMahApps:ControlsHelper.HeaderFontSize="16" Header="Info Orden">
                            <Grid>
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition />
                                    </Grid.RowDefinitions>
                                    <DataGrid
                                    AutoGenerateColumns="False"
                                    IsReadOnly="True"
                                    ItemsSource="{Binding listaOrdenesCombustible}">
                                        <DataGrid.Columns>
                                            <DataGridTextColumn Binding="{Binding CodigoFactura}" Header="Codigo Factura" />
                                            <DataGridTextColumn Binding="{Binding NombreProveedor}" Header="Proveedor" />
                                            <DataGridTextColumn Binding="{Binding PlacaEquipo}" Header="Placa" />
                                            <DataGridTextColumn Binding="{Binding Motorista}" Header="Motorista" />
                                            <DataGridTextColumn Binding="{Binding AutorizadoPor}" Header="Autorizado Por" />
                                            <DataGridTextColumn Binding="{Binding Monto,StringFormat=N2}" Header="Monto Orden" />
                                            <DataGridTextColumn Binding="{Binding FechaCreacion}" Header="Fecha Transaccion" />
                                        </DataGrid.Columns>
                                    </DataGrid>
                                </Grid>
                            </Grid>
                        </TabItem>
                        <TabItem controlsMahApps:ControlsHelper.HeaderFontSize="16" Header="Detalle de Pagos">
                            <Grid>
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition />
                                    </Grid.RowDefinitions>
                                    <DataGrid
                                    AutoGenerateColumns="False"
                                    IsReadOnly="True"
                                    ItemsSource="{Binding ListaGasCreditoPagos}">
                                        <DataGrid.Columns>
                                            <DataGridTextColumn Binding="{Binding FormaDePago}" Header="Tipo Transaccion" />
                                            <DataGridTextColumn Binding="{Binding Monto, StringFormat=N2}" Header="Monto" />
                                            <DataGridTextColumn Binding="{Binding NombreBanco}" Header="Banco" />
                                            <DataGridTextColumn Binding="{Binding NoDocumento}" Header="Documento Ref" />
                                            <DataGridTextColumn Binding="{Binding FechaTransaccion}" Header="Fecha Transaccion" />
                                        </DataGrid.Columns>
                                    </DataGrid>
                                </Grid>
                            </Grid>
                        </TabItem>
                    </TabControl>
                </Grid>
            </Grid>
            <misControles:AppBarPanel Grid.Row="1" Background="{DynamicResource AccentColorBrush}">
                <misControles:AppBarButton
                Command="{Binding ComandoMostrarAgregarGasolineraCredito}"
                Imagen="{DynamicResource AgregarPathImagen}"
                Titulo="Crear"/>
                <misControles:AppBarButton
                Command="{Binding ComandoMostrarEditarGasolineraCredito}"
                Imagen="{DynamicResource EditarPathImagen}"
                Titulo="Editar"/>
                <misControles:AppBarButton
                Command="{Binding ComandoEliminarGasolineraCredito}"
                Imagen="{DynamicResource EliminarPathImagen}"
                Titulo="Eliminar"/>
                <misControles:Separador />
                <misControles:AppBarButton
                Command="{Binding ComandoMostrarGasCreditoPagos}"
                Imagen="{DynamicResource RegistrarPagoPathImagen}"
                Titulo="Registrar Pago" />
                <misControles:Separador />
                <misControles:AppBarButton
                Command="{Binding ComandoImprimirDetalleGasCredito}"
                Imagen="{DynamicResource ImprimirPathImagen}"
                Titulo="Imprimir" />
                <misControles:Separador />
                <misControles:AppBarButton
                Command="{Binding ComandoMostrarOrdenesCombustible}"
                Imagen="{DynamicResource OrdenCombustiblePathImagen}"
                Titulo="Ordenes"/>
                <misControles:Separador />
                <misControles:AppBarButton
                Command="{Binding ComandoRefrescarGasolineraCreditos}"
                Imagen="{DynamicResource RefrescarPathImagen}"
                Titulo="Actualizar" />
            </misControles:AppBarPanel>
            <Border Grid.RowSpan="2" Visibility="{Binding MostrarVentanaEsperaPrincipal}" d:IsHidden="True">
                <Grid>
                    <misControles:BloqueoPanel/>
                    <controlsMahApps:ProgressRing IsActive="True" IsLarge="False"/>
                </Grid>
            </Border>
        </Grid>
    </Grid>
</wpfCoreWindow:MetroWindowExt>
